---
title: MyData SDK
---

<Callout type="info">
	This is a beta version of MyData. See https://github.com/MystenLabs/mydata for more details.
</Callout>

The MyData SDK provides threshold encryption capabilities for MySo applications, enabling secure data
encryption with configurable key servers.

## Installation

```bash npm2yarn
npm install --save @socialproof/mydata @socialproof/myso
```

## Setup

To use the MyData SDK, create a MySo client and extend it with the MyData extension:

```ts
import { MySoGrpcClient } from '@socialproof/myso/grpc';
import { mydata } from '@socialproof/mydata';

const client = new MySoGrpcClient({
	network: 'testnet',
	baseUrl: 'https://fullnode.testnet.mysocial.network:443',
}).$extend(
	mydata({
		serverConfigs: [
			{ objectId: '0x...keyserver1', weight: 1 },
			{ objectId: '0x...keyserver2', weight: 1 },
		],
	}),
);
```

## Configuration Options

The `mydata()` function accepts the following options:

- **`serverConfigs`** (required) - Array of key server configurations with `objectId` and `weight`
- **`verifyKeyServers`** (optional) - Whether to verify key server authenticity (default: `true`)
- **`timeout`** (optional) - Timeout in milliseconds for network requests (default: `10000`)

## Basic Usage

### Encrypting Data

```ts
const data = new Uint8Array([1, 2, 3]);

const { encryptedObject } = await client.mydata.encrypt({
	threshold: 2, // Number of key servers needed to decrypt
	packageId: '0x...your-package-id',
	id: '0x...your-object-id',
	data,
});
```

### Decrypting Data

```ts
import { SessionKey } from '@socialproof/mydata';

// Create a session key for decryption
const sessionKey = await SessionKey.create({
	address: senderAddress,
	packageId: '0x...your-package-id',
	ttlMin: 10, // Time-to-live in minutes
	signer: keypair,
	mysoClient: client,
});

// Build transaction bytes that call mydata_approve
const txBytes = await buildApprovalTransaction(/* ... */);

// Decrypt the data
const decryptedData = await client.mydata.decrypt({
	data: encryptedObject,
	sessionKey,
	txBytes,
});
```

## Resources

For detailed documentation on threshold encryption and key server setup, see the
[MyData repository](https://github.com/MystenLabs/mydata).
